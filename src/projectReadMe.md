# Solitaire

## Introduction

This project is a simple C++ Solitaire game. The project is built using **CMake** and can be compiled and run on multiple platforms (Linux, macOS, Windows) using either **GCC** or **Clang**.

## Prerequisites

**Note:** These commands use the syntax of bash / zsh shells. For others, consult alternative sources.

Before building and running the project, make sure the following are installed on your system:

- A C++ compiler (e.g., **GCC**, **Clang**).
- **CMake** (version 3.10 or higher).

You can verify that these are installed with the following commands:

```bash
gcc --version    # For GCC
clang --version  # For Clang
cmake --version  # To check CMake version
```

- Qt Library (version 5.x or 6.x) – required to run the Qt-based GUI

1. **Download and install Qt Creator** from the official site: [Qt Educational License](https://www.qt.io/qt-educational-license#application).

   - During installation, make sure to select the **Desktop Environment** option.

2. **Update your terminal’s `PATH` environment variable** to include the path to `qmake`:

   - After installing Qt, you need to make the `qmake` tool accessible from your terminal.

   #### For macOS and Linux:

   - Find where Qt was installed. The path will likely be similar to `/Users/your-username/Qt/6.x.x/clang_64/bin` (replace with your actual path).

   - Add the path to your `PATH` environment variable. You can do this by editing your **`.zshrc`** (if using `zsh`) or **`.bash_profile`** (if using `bash`):
     ```bash
     nano ~/.zshrc
     ```
   - Add the following line (replacing the path with your own Qt installation path):
     ```bash
     export CMAKE_PREFIX_PATH="/path/to/Qt/6.x.x/clang_64/bin:$PATH"
     ```
   - Save the file and reload the shell configuration:
     ```bash
     source ~/.zshrc
     ```

   #### For Windows:

   - Add the Qt `bin` directory (e.g., `C:\Qt\6.x.x\msvc2019_64\bin`) to your system’s `Path` environment variable:
     1. Open **Start** and search for "Environment Variables."
     2. Under **System Properties**, click **Environment Variables**.
     3. Select **Path** and click **Edit**.
     4. Click **New**, then add the path to your `qmake` binary.
     5. Click **OK** to save.

3. **Verify `qmake` is installed**:

   - After updating your `PATH`, verify that `qmake` is accessible from the terminal by running:
     ```bash
     qmake --version
     ```
   - This should print out the Qt version, confirming that everything is set up correctly.

4. **Add compile_commands.json to VS Code IntelliSense**:

   - In .vscode/c_cpp_properties.json, include:

   ```text
   "compileCommands": "${workspaceFolder}/build/compile_commands.json"
   ```

   to automatically configure IntelliSense. This file, generated by CMake, centralizes all paths and flags, ensuring cross-platform compatibility.

## Instructions for Running the Application

### 1. **Configure the Project**

Before building the project, you need to configure it. This generates the necessary build files (such as `Makefile`) based on the `CMakeLists.txt` file.

Run the following command:

```bash
cmake -S . -B build
```

### 2. **Build the Project**

After configuring the project, you can now compile the source files into an executable.

Run the following command:

```bash
cmake --build build
```

This compiles the project and generates the executable in the `build` directory.

### 3. **Run the Executable**

Once the build is complete, you can run the program. The compiled executable will be located in the `build` directory.

Run the following command to execute it:

```bash
./build/solitaire
```

- Make sure your compiler supports **C++17**.

## For Developers: Initial Configuration Settings

Follow these instructions when first cloning the project to set up the correct settings, before starting to develop:

### 1. **Setup Google C++ Style Formatting**

This tool formats your code, improving readability and maintainability. VS Code supports formatting out of the box:

    1.	Open VS Code Settings (Ctrl + , on Windows/Linux, Cmd + , on macOS).
    2.	Search for C_Cpp: Clang_format_style.
    3.	Set the option to "Google"

    It is a good idea to enable formatting on save or on typing. In the same settings window:

    1.	Search for editor.formatOnSave and enable it.
    2.	Search for editor.formatOnType and enable it if you want formatting to apply while typing.

### 3. **Setup cpplint for linting**

#### macOS (Homebrew-managed Python)

1. **Option A (Recommended)**: Use a Virtual Environment

   - Create a virtual environment:
     ```bash
     python3 -m venv myenv
     ```
   - Activate the virtual environment:
     ```bash
     source myenv/bin/activate
     ```
   - Install `cpplint` inside the virtual environment:
     ```bash
     python -m pip install cpplint
     ```

2. **Option B**: Use `pipx` for system-wide installation
   - Install `pipx` with Homebrew:
     ```bash
     brew install pipx
     pipx ensurepath
     ```
   - Install `cpplint` with `pipx`:
     ```bash
     pipx install cpplint
     ```

After this, we can install the VS Code extension to make the linter run automatically on your code:

1. Install the extension "cpplint" by "mine"
2. Find the path to the extension by running in terminal

```bash
which cpplint
```

3. After this, open VS Code settings and search for the setting "Cpplint: Cpplint Path". Paste this path and save the settings.

4. Restart VS Code. The linter should now work automatically by highlighting code in blue squiggles

#### Windows and Linux

1. For these systems, you can typically install `cpplint` directly with:

```bash
pip install cpplint
```

2. Find the path to the extension by running in terminal

```bash
which cpplint
```

### 4. **Setup Doxygen for Comments/Documentation**

1. Install the VS Code Extension "Doxygen Document Generator" by "Christoph Schlosser"
2. Install the Doxygen command-line tool:

#### macOS (Homebrew)

```bash
brew install doxygen
```

#### Windows

1. Download the Doxygen installer from the [official website](http://www.doxygen.nl/download.html).
2. Run the installer and follow the instructions to complete the installation.

## For Developers: When Developing

Follow the same instructions as for running the application when developing. When making changes, rerun the last two **build** and **run** commands to see your changes in output. Some IDE extensions may automatically do some of this for you, so you might find easier ways of doing this.

When making larger changes, e.g. importing libraries, switching compilers, et.c., it can be a good idea to clean the project before rebuilding. Run:

```bash
cmake --build build --target clean
```

After this, build and run normally.

### Doxygen Comments:

Doxygen comments are useful diretly above functions, classes and structs for describing the code. These will be auto-generated into documentation.

```cpp
/** This is the structure of a doxygen comment */
```

smaller comments meant for clarifying things can be made as regular comments.

To update the Doxygen documentation with new comments, run in terminal:

```bash
doxygen Doxyfile
```

An html of the documentation will be generated. To view, drag and drop the file "index.html" into your browser search field.
